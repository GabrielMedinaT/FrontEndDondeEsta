{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\gabri\\\\Documents\\\\ProyectoFinal\\\\FrontEndDondeEsta\\\\frontend\\\\src\\\\components\\\\Addcasa.jsx\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { useForm } from \"react-hook-form\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Addcasa = () => {\n  _s();\n  const {\n    t\n  } = useTranslation(\"global\");\n  // const navigate = useNavigate();\n  const {\n    register,\n    handleSubmit\n    // formState: {},\n  } = useForm();\n  const extraerDatosDeUsuario = () => {\n    const datosRecuperar = JSON.parse(localStorage.getItem(\"datosUsuario\"));\n    if (datosRecuperar && datosRecuperar.token) {\n      console.log(datosRecuperar.token);\n      return [datosRecuperar.token, datosRecuperar.userId];\n    }\n  };\n  const gestorFormulario = async data => {\n    const [token, userId] = extraerDatosDeUsuario();\n    await axios.post(process.env.REACT_APP_API_URL + \"/api/casas/nueva\", {\n      nombre: data.nombre,\n      direccion: data.direccion,\n      ciudad: data.ciudad,\n      userId: userId // Agrega el id del usuario al objeto que se envía al servidor\n    }, {\n      headers: {\n        Authorization: `Bearer ${token}` // Agrega el token de autorización en el objeto de configuración de axios\n      }\n    }).then(response => {\n      console.log(\"Todo correcto\", response.data);\n      if (response.status === 200) window.location.reload();else alert(\"Error al crear la casa\");\n    }).catch(error => console.log(error.response.data));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"addCasa\",\n      action: \"\",\n      onSubmit: handleSubmit(gestorFormulario),\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Nombre de casa\",\n        ...register(\"nombre\", {\n          minLength: 2,\n          required: true\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Direcci\\xF3n\",\n        ...register(\"direccion\", {\n          minLength: 5,\n          required: true\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Ciudad\",\n        ...register(\"ciudad\", {\n          minLength: 5,\n          required: true\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: t(\"btn1.btn1\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n};\n_s(Addcasa, \"ADZPgeVCw/BGHsWZcmYZogLiJQc=\", false, function () {\n  return [useTranslation, useForm];\n});\n_c = Addcasa;\nexport default Addcasa;\nvar _c;\n$RefreshReg$(_c, \"Addcasa\");","map":{"version":3,"names":["React","useTranslation","useForm","axios","jsxDEV","_jsxDEV","Addcasa","_s","t","register","handleSubmit","extraerDatosDeUsuario","datosRecuperar","JSON","parse","localStorage","getItem","token","console","log","userId","gestorFormulario","data","post","process","env","REACT_APP_API_URL","nombre","direccion","ciudad","headers","Authorization","then","response","status","window","location","reload","alert","catch","error","children","className","action","onSubmit","type","placeholder","minLength","required","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/gabri/Documents/ProyectoFinal/FrontEndDondeEsta/frontend/src/components/Addcasa.jsx"],"sourcesContent":["import React from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport axios from \"axios\";\r\n\r\n\r\nconst Addcasa = () => {\r\n  const { t } = useTranslation(\"global\");\r\n  // const navigate = useNavigate();\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    // formState: {},\r\n  } = useForm();\r\n\r\n  const extraerDatosDeUsuario = () => {\r\n    const datosRecuperar = JSON.parse(localStorage.getItem(\"datosUsuario\"));\r\n    if (datosRecuperar && datosRecuperar.token) {\r\n      console.log(datosRecuperar.token);\r\n      return [datosRecuperar.token, datosRecuperar.userId];\r\n    }\r\n  };\r\n\r\n  const gestorFormulario = async (data) => {\r\n    const [token, userId] = extraerDatosDeUsuario();\r\n\r\n    await axios\r\n      .post(\r\n        process.env.REACT_APP_API_URL + \"/api/casas/nueva\",\r\n        {\r\n          nombre: data.nombre,\r\n          direccion: data.direccion,\r\n          ciudad: data.ciudad,\r\n          userId: userId, // Agrega el id del usuario al objeto que se envía al servidor\r\n        },\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`, // Agrega el token de autorización en el objeto de configuración de axios\r\n          },\r\n        }\r\n      )\r\n      .then((response) => {\r\n        console.log(\"Todo correcto\", response.data);\r\n        if (response.status === 200) window.location.reload();\r\n        else alert(\"Error al crear la casa\");\r\n      })\r\n      .catch((error) => console.log(error.response.data));\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <form\r\n        className=\"addCasa\"\r\n        action=\"\"\r\n        onSubmit={handleSubmit(gestorFormulario)}\r\n      >\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Nombre de casa\"\r\n          {...register(\"nombre\", { minLength: 2, required: true })}\r\n        />\r\n        <br />\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Dirección\"\r\n          {...register(\"direccion\", { minLength: 5, required: true })}\r\n        />\r\n        <br />\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Ciudad\"\r\n          {...register(\"ciudad\", { minLength: 5, required: true })}\r\n        />\r\n        <br />\r\n        <button type=\"submit\">{t(\"btn1.btn1\")}</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Addcasa;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}